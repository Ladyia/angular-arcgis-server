<div class="container">
  <div ng-if="map" class="col-md-8">
    <div id="map"></div>
    {{formData | json}}
  </div>
  <div ng-class="{'col-md-4': map, 'col-md-12': !map}">
    <h2>{{tableName}}</h2>
    <form name="formData" novalidate>
      <div ng-if="field.editable" class="form-group" ng-repeat="field in fields">
        <label for="field.name">{{field.alias}}</label>
        <div ng-switch="field.type">

          <!--esriFieldTypeString-->
          <div ng-switch-when="esriFieldTypeString" ng-switch="field.nullable">
            <div ng-switch-when="true">
              <input ng-if="field.domain === null" type="text" class="form-control" id="type.name" placeholder="..." ng-model="formData[field.name]" ng-maxlength="field.length">
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]">
                <option value="">--Select {{field.alias}}--</option>
              </select>
            </div>
            <div ng-switch-when="false">
              <input ng-if="field.editable" ng-if="field.domain === null" type="text" class="form-control" id="type.name" placeholder="..." ng-model="formData[field.name]" ng-maxlength="field.length" required>
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]" required>
                <option value="">--Select {{field.alias}}--</option>
              </select>
            </div>
          </div>

          <!--esriFieldTypeSmallInteger-->
          <div ng-switch-when="esriFieldTypeSmallInteger" ng-switch="field.nullable">
            <div ng-switch-when="true">
              <input ng-if="field.domain === null" type="number" class="form-control" id="type.name" ng-model="formData[field.name]">
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]">
                <option value="">--Select {{field.alias}}--</option>
              </select>
            </div>
            <div ng-switch-when="false">
              <input ng-if="field.editable" ng-if="field.domain === null" type="number" class="form-control" id="type.name" ng-model="formData[field.name]" required>
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]" required>
                <option value="">--Select {{field.alias}}--</option>
              </select>
              <div class="alert alert-danger" ng-show="formData.input.$error.required">Required!</div>
            </div>
          </div>

          <!--esriFieldTypeInteger-->
          <div ng-switch-when="esriFieldTypeInteger" ng-switch="field.nullable">
            <div ng-switch-when="true">
              <input ng-if="field.domain === null" type="number" class="form-control" id="type.name" ng-model="formData[field.name]">
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]">
                <option value="">--Select {{field.alias}}--</option>
              </select>
            </div>
            <div ng-switch-when="false">
              <input ng-if="field.editable" ng-if="field.domain === null" type="number" class="form-control" id="type.name" ng-model="formData[field.name]" required>
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]" required>
                <option value="">--Select {{field.alias}}--</option>
              </select>
            </div>
          </div>

          <!--esriFieldTypeSingle-->
          <div ng-switch-when="esriFieldTypeSingle" ng-switch="field.nullable">
            <div ng-switch-when="true">
              <input ng-if="field.domain === null" type="number" class="form-control" id="type.name" ng-model="formData[field.name]">
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]">
                <option value="">--Select {{field.alias}}--</option>
              </select>
            </div>
            <div ng-switch-when="false">
              <input ng-if="field.editable" ng-if="field.domain === null" type="number" class="form-control" id="type.name" ng-model="formData[field.name]" required>
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]" required>
                <option value="">--Select {{field.alias}}--</option>
              </select>
            </div>
          </div>

          <!--esriFieldTypeDouble-->
          <div ng-switch-when="esriFieldTypeDouble" ng-switch="field.nullable">
            <div ng-switch-when="true">
              <input ng-if="field.domain === null" type="number" class="form-control" id="type.name" ng-model="formData[field.name]">
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]">
                <option value="">--Select {{field.alias}}--</option>
              </select>
            </div>
            <div ng-switch-when="false">
              <input ng-if="field.editable" ng-if="field.domain === null" type="number" class="form-control" id="type.name" ng-model="formData[field.name]" required>
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]" required>
                <option value="">--Select {{field.alias}}--</option>
              </select>
            </div>
          </div>

          <!--esriFieldTypeDate-->
          <div ng-switch-when="esriFieldTypeDate" ng-switch="field.nullable">
            <div ng-switch-when="true">
              <input ng-if="field.domain === null" type="datetime-local" class="form-control" id="type.name" placeholder="..." ng-model="formData[field.name]">
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]">
                <option value="">--Select {{field.alias}}--</option>
              </select>
            </div>
            <div ng-switch-when="false">
              <input ng-if="field.editable" ng-if="field.domain === null" type="datetime-local" class="form-control" id="type.name" placeholder="..." ng-model="formData[field.name]" required>
              <select ng-if="field.domain !== null" ng-options="item.code as item.name for item in field.domain.codedValues" id="type.name" class="form-control" ng-model="formData[field.name]" required>
                <option value="">--Select {{field.alias}}--</option>
              </select>
            </div>
          </div>

          <!--esriFieldTypeOID-->
          <!-- <input ng-if="field.editable" ng-switch-when="esriFieldTypeOID" type="number" class="form-control" id="type.name" placeholder="..." ng-model="formData[field.name]"> -->

          <!--esriFieldTypeGeometry-->

          <!--esriFieldTypeBlob-->

          <!--esriFieldTypeRaster-->

          <!--esriFieldTypeGUID-->

          <!--esriFieldTypeGlobalID-->

          <!--esriFieldTypeXML-->


        </div>
      </div>
      <button type="submit" class="btn btn-default" ng-click="submit(formData)">Submit</button>
    </form>
  </div>
</div>
